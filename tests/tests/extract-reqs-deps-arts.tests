source $(SAMPLE nest-in)

SECTION 'regular target'

TEST-CASE "target"
	extract-reqs-deps-arts "target"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

	extract-reqs-deps-arts "target"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

TEST-CASE "target / [requirement]"
	extract-reqs-deps-arts "target / [one]"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'one' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

	extract-reqs-deps-arts "target / [five]"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'five' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

	extract-reqs-deps-arts "target / [one] [five]"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 2 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'one' ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[1]}" == 'five' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

TEST-CASE "target / [requirement:specifier]"
	extract-reqs-deps-arts "target / [one:two]"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'one:two' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

	extract-reqs-deps-arts "target / [five:six]"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'five:six' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

	extract-reqs-deps-arts "target / [one:two] [five:six]"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 2 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'one:two' ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[1]}" == 'five:six' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

TEST-CASE "target / dependency"
	extract-reqs-deps-arts "target / three"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[0]}" == 'three' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

	extract-reqs-deps-arts "target / seven"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[0]}" == 'seven' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

	extract-reqs-deps-arts "target / three seven"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 2 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[0]}" == 'three' ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[1]}" == 'seven' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

TEST-CASE "target / 'artifact'"
	extract-reqs-deps-arts "target / 'four'"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[0]}" == 'four' ]

	extract-reqs-deps-arts "target / 'eight'"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[0]}" == 'eight' ]

	extract-reqs-deps-arts "target / 'four' 'eight'"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 2 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[0]}" == 'four' ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[1]}" == 'eight' ]

TEST-CASE "target / [requirement] dependency"
	extract-reqs-deps-arts "target / [one] three"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'one' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[0]}" == 'three' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

	extract-reqs-deps-arts "target / [five] seven"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'five' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[0]}" == 'seven' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

	extract-reqs-deps-arts "target / [one] [five] three"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 2 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'one' ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[1]}" == 'five' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[0]}" == 'three' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

	extract-reqs-deps-arts "target / [five] three seven"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'five' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 2 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[0]}" == 'three' ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[1]}" == 'seven' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

TEST-CASE "target / [requirement:specifier] dependency"
	extract-reqs-deps-arts "target / [one:two] three"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'one:two' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[0]}" == 'three' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

	extract-reqs-deps-arts "target / [five:six] seven"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'five:six' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[0]}" == 'seven' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

	extract-reqs-deps-arts "target / [one:two] [five:six] three"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 2 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'one:two' ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[1]}" == 'five:six' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[0]}" == 'three' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

	extract-reqs-deps-arts "target / [five:six] three seven"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'five:six' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 2 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[0]}" == 'three' ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[1]}" == 'seven' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

TEST-CASE "target / [requirement] 'artifact'"
	extract-reqs-deps-arts "target / [one] 'four'"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'one' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[0]}" == 'four' ]

	extract-reqs-deps-arts "target / [five] 'eight'"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'five' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[0]}" == 'eight' ]

	extract-reqs-deps-arts "target / [one] [five] 'four'"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 2 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'one' ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[1]}" == 'five' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[0]}" == 'four' ]

	extract-reqs-deps-arts "target / [five] 'four' 'eight'"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'five' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 2 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[0]}" == 'four' ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[1]}" == 'eight' ]

TEST-CASE "target / [requirement:specifier] 'artifact'"
	extract-reqs-deps-arts "target / [one:two] 'four'"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'one:two' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[0]}" == 'four' ]

	extract-reqs-deps-arts "target / [five:six] 'eight'"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'five:six' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[0]}" == 'eight' ]

	extract-reqs-deps-arts "target / [one:two] [five:six] 'four'"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 2 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'one:two' ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[1]}" == 'five:six' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[0]}" == 'four' ]

	extract-reqs-deps-arts "target / [five:six] 'four' 'eight'"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'five:six' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 2 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[0]}" == 'four' ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[1]}" == 'eight' ]

TEST-CASE "target / dependency 'artifact'"
	extract-reqs-deps-arts "target / three 'four'"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[0]}" == 'three' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[0]}" == 'four' ]

	extract-reqs-deps-arts "target / seven 'eight'"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[0]}" == 'seven' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[0]}" == 'eight' ]

	extract-reqs-deps-arts "target / three seven 'four'"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 2 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[0]}" == 'three' ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[1]}" == 'seven' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[0]}" == 'four' ]

	extract-reqs-deps-arts "target / seven 'four' 'eight'"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[0]}" == 'seven' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 2 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[0]}" == 'four' ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[1]}" == 'eight' ]


SECTION 'dedicated target'

TEST-CASE "target!"
	extract-reqs-deps-arts "target!"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

	extract-reqs-deps-arts "target!"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

TEST-CASE "target! / [requirement]"
	extract-reqs-deps-arts "target! / [one]"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'one' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

	extract-reqs-deps-arts "target! / [five]"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'five' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

	extract-reqs-deps-arts "target! / [one] [five]"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 2 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'one' ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[1]}" == 'five' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

TEST-CASE "target! / [requirement:specifier]"
	extract-reqs-deps-arts "target! / [one:two]"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'one:two' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

	extract-reqs-deps-arts "target! / [five:six]"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'five:six' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

	extract-reqs-deps-arts "target! / [one:two] [five:six]"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 2 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'one:two' ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[1]}" == 'five:six' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

TEST-CASE "target! / dependency"
	extract-reqs-deps-arts "target! / three"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[0]}" == 'three' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

	extract-reqs-deps-arts "target! / seven"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[0]}" == 'seven' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

	extract-reqs-deps-arts "target! / three seven"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 2 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[0]}" == 'three' ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[1]}" == 'seven' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

TEST-CASE "target! / 'artifact'"
	extract-reqs-deps-arts "target! / 'four'"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[0]}" == 'four' ]

	extract-reqs-deps-arts "target! / 'eight'"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[0]}" == 'eight' ]

	extract-reqs-deps-arts "target! / 'four' 'eight'"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 2 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[0]}" == 'four' ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[1]}" == 'eight' ]

TEST-CASE "target! / [requirement] dependency"
	extract-reqs-deps-arts "target! / [one] three"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'one' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[0]}" == 'three' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

	extract-reqs-deps-arts "target! / [five] seven"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'five' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[0]}" == 'seven' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

	extract-reqs-deps-arts "target! / [one] [five] three"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 2 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'one' ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[1]}" == 'five' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[0]}" == 'three' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

	extract-reqs-deps-arts "target! / [five] three seven"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'five' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 2 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[0]}" == 'three' ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[1]}" == 'seven' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

TEST-CASE "target! / [requirement:specifier] dependency"
	extract-reqs-deps-arts "target! / [one:two] three"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'one:two' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[0]}" == 'three' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

	extract-reqs-deps-arts "target! / [five:six] seven"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'five:six' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[0]}" == 'seven' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

	extract-reqs-deps-arts "target! / [one:two] [five:six] three"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 2 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'one:two' ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[1]}" == 'five:six' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[0]}" == 'three' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

	extract-reqs-deps-arts "target! / [five:six] three seven"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'five:six' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 2 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[0]}" == 'three' ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[1]}" == 'seven' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

TEST-CASE "target! / [requirement] 'artifact'"
	extract-reqs-deps-arts "target! / [one] 'four'"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'one' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[0]}" == 'four' ]

	extract-reqs-deps-arts "target! / [five] 'eight'"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'five' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[0]}" == 'eight' ]

	extract-reqs-deps-arts "target! / [one] [five] 'four'"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 2 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'one' ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[1]}" == 'five' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[0]}" == 'four' ]

	extract-reqs-deps-arts "target! / [five] 'four' 'eight'"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'five' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 2 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[0]}" == 'four' ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[1]}" == 'eight' ]

TEST-CASE "target! / [requirement:specifier] 'artifact'"
	extract-reqs-deps-arts "target! / [one:two] 'four'"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'one:two' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[0]}" == 'four' ]

	extract-reqs-deps-arts "target! / [five:six] 'eight'"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'five:six' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[0]}" == 'eight' ]

	extract-reqs-deps-arts "target! / [one:two] [five:six] 'four'"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 2 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'one:two' ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[1]}" == 'five:six' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[0]}" == 'four' ]

	extract-reqs-deps-arts "target! / [five:six] 'four' 'eight'"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'five:six' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 2 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[0]}" == 'four' ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[1]}" == 'eight' ]

TEST-CASE "target! / dependency 'artifact'"
	extract-reqs-deps-arts "target! / three 'four'"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[0]}" == 'three' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[0]}" == 'four' ]

	extract-reqs-deps-arts "target! / seven 'eight'"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[0]}" == 'seven' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[0]}" == 'eight' ]

	extract-reqs-deps-arts "target! / three seven 'four'"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 2 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[0]}" == 'three' ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[1]}" == 'seven' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[0]}" == 'four' ]

	extract-reqs-deps-arts "target! / seven 'four' 'eight'"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[0]}" == 'seven' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 2 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[0]}" == 'four' ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[1]}" == 'eight' ]


SECTION '.first'

TEST-CASE '.first'
	extract-reqs-deps-arts ".first"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

TEST-CASE '.first / [requirement]'
	extract-reqs-deps-arts ".first / [one]"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'one' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

	extract-reqs-deps-arts ".first / [five]"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'five' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

	extract-reqs-deps-arts ".first / [one] [five]"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 2 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'one' ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[1]}" == 'five' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

TEST-CASE '.first / [requirement:specifier]'
	extract-reqs-deps-arts ".first / [one:two]"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'one:two' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

	extract-reqs-deps-arts ".first / [five:six]"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'five:six' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

	extract-reqs-deps-arts ".first / [one:two] [five:six]"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 2 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'one:two' ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[1]}" == 'five:six' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]


SECTION '.last'

TEST-CASE '.last'
	extract-reqs-deps-arts ".last"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

TEST-CASE '.last / [requirement]'
	extract-reqs-deps-arts ".last / [one]"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'one' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

	extract-reqs-deps-arts ".last / [five]"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'five' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

	extract-reqs-deps-arts ".last / [one] [five]"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 2 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'one' ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[1]}" == 'five' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

TEST-CASE '.last / [requirement:specifier]'
	extract-reqs-deps-arts ".last / [one:two]"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'one:two' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

	extract-reqs-deps-arts ".last / [five:six]"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 1 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'five:six' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

	extract-reqs-deps-arts ".last / [one:two] [five:six]"
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[@]} == 2 ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[0]}" == 'one:two' ]
	CHECK [ "${EXTRACT_REQS_DEPS_ARTS_RETURN__REQUIREMENTS[1]}" == 'five:six' ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__DEPENDENCIES[@]} == 0 ]
	CHECK [ ${#EXTRACT_REQS_DEPS_ARTS_RETURN__ARTIFACTS[@]} == 0 ]

