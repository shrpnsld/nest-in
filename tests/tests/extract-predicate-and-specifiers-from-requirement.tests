source $(SAMPLE nest-in)

SETUP()
{
	EXTRACT_PREDICATE_AND_SPECIFIERS_FROM_REQUIREMENT_RETURN__PREDICATE=''
	EXTRACT_PREDICATE_AND_SPECIFIERS_FROM_REQUIREMENT_RETURN__SPECIFIERS=()
}

TEST-CASE 'no specifiers'
	VARIANT 'set 1'
		extract-predicate-and-specifiers-from-requirement 'one'
		CHECK [ "$EXTRACT_PREDICATE_AND_SPECIFIERS_FROM_REQUIREMENT_RETURN__PREDICATE" == 'one' ]
		CHECK [ ${#EXTRACT_PREDICATE_AND_SPECIFIERS_FROM_REQUIREMENT_RETURN__SPECIFIERS[@]} == 0 ]

	VARIANT 'set 2'
		extract-predicate-and-specifiers-from-requirement 'two'
		CHECK [ "$EXTRACT_PREDICATE_AND_SPECIFIERS_FROM_REQUIREMENT_RETURN__PREDICATE" == 'two' ]
		CHECK [ ${#EXTRACT_PREDICATE_AND_SPECIFIERS_FROM_REQUIREMENT_RETURN__SPECIFIERS[@]} == 0 ]

TEST-CASE 'single specifier'
	VARIANT 'set 1'
		extract-predicate-and-specifiers-from-requirement 'one:two'
		CHECK [ "$EXTRACT_PREDICATE_AND_SPECIFIERS_FROM_REQUIREMENT_RETURN__PREDICATE" == 'one' ]
		CHECK [ ${#EXTRACT_PREDICATE_AND_SPECIFIERS_FROM_REQUIREMENT_RETURN__SPECIFIERS[@]} == 1 ]
		CHECK [ "${EXTRACT_PREDICATE_AND_SPECIFIERS_FROM_REQUIREMENT_RETURN__SPECIFIERS[0]}" == 'two' ]

	VARIANT 'set 2'
		extract-predicate-and-specifiers-from-requirement 'three:four'
		CHECK [ "$EXTRACT_PREDICATE_AND_SPECIFIERS_FROM_REQUIREMENT_RETURN__PREDICATE" == 'three' ]
		CHECK [ ${#EXTRACT_PREDICATE_AND_SPECIFIERS_FROM_REQUIREMENT_RETURN__SPECIFIERS[@]} == 1 ]
		CHECK [ "${EXTRACT_PREDICATE_AND_SPECIFIERS_FROM_REQUIREMENT_RETURN__SPECIFIERS[0]}" == 'four' ]

TEST-CASE 'two specifiers'
	VARIANT 'set 1'
		extract-predicate-and-specifiers-from-requirement 'one:two:three'
		CHECK [ "$EXTRACT_PREDICATE_AND_SPECIFIERS_FROM_REQUIREMENT_RETURN__PREDICATE" == 'one' ]
		CHECK [ ${#EXTRACT_PREDICATE_AND_SPECIFIERS_FROM_REQUIREMENT_RETURN__SPECIFIERS[@]} == 2 ]
		CHECK [ "${EXTRACT_PREDICATE_AND_SPECIFIERS_FROM_REQUIREMENT_RETURN__SPECIFIERS[0]}" == 'two' ]
		CHECK [ "${EXTRACT_PREDICATE_AND_SPECIFIERS_FROM_REQUIREMENT_RETURN__SPECIFIERS[1]}" == 'three' ]

	VARIANT 'set 2'
		extract-predicate-and-specifiers-from-requirement 'four:five:six'
		CHECK [ "$EXTRACT_PREDICATE_AND_SPECIFIERS_FROM_REQUIREMENT_RETURN__PREDICATE" == 'four' ]
		CHECK [ ${#EXTRACT_PREDICATE_AND_SPECIFIERS_FROM_REQUIREMENT_RETURN__SPECIFIERS[@]} == 2 ]
		CHECK [ "${EXTRACT_PREDICATE_AND_SPECIFIERS_FROM_REQUIREMENT_RETURN__SPECIFIERS[0]}" == 'five' ]
		CHECK [ "${EXTRACT_PREDICATE_AND_SPECIFIERS_FROM_REQUIREMENT_RETURN__SPECIFIERS[1]}" == 'six' ]

