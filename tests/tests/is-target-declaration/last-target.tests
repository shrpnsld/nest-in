source $(SAMPLE nest-in)

TEST-CASE 'plain'
	CHECK is-target-declaration '.last'

TEST-CASE '.last / [requirement]'
	CHECK is-target-declaration '.last / [one]'
	CHECK is-target-declaration '.last / [three]'
	CHECK is-target-declaration '.last / [one] [three]'

TEST-CASE '.last / [requirement:specifier]'
	CHECK is-target-declaration '.last / [one:two]'
	CHECK is-target-declaration '.last / [three:four]'
	CHECK is-target-declaration '.last / [one:two] [three:four]'

TEST-CASE '.last{SPACING}'
	CHECK is-target-declaration $'.last '
	CHECK is-target-declaration $'.last\t'
	CHECK is-target-declaration $'.last  '
	CHECK is-target-declaration $'.last \t'
	CHECK is-target-declaration $'.last\t '
	CHECK is-target-declaration $'.last\t\t'
	CHECK is-target-declaration $'.last\t  '
	CHECK is-target-declaration $'.last\t \t'
	CHECK is-target-declaration $'.last\t\t '

TEST-CASE '.last{SPACING}/ [requirement]'
	CHECK is-target-declaration $'.last\t/ [one]'
	CHECK is-target-declaration $'.last  / [one]'
	CHECK is-target-declaration $'.last \t/ [one]'
	CHECK is-target-declaration $'.last\t / [one]'
	CHECK is-target-declaration $'.last\t\t/ [one]'
	CHECK is-target-declaration $'.last\t  / [one]'
	CHECK is-target-declaration $'.last\t \t/ [one]'
	CHECK is-target-declaration $'.last\t\t / [one]'

TEST-CASE '.last /{SPACING}[requirement]'
	CHECK is-target-declaration $'.last /\t[one]'
	CHECK is-target-declaration $'.last /  [one]'
	CHECK is-target-declaration $'.last / \t[one]'
	CHECK is-target-declaration $'.last /\t [one]'
	CHECK is-target-declaration $'.last /\t\t[one]'
	CHECK is-target-declaration $'.last /\t  [one]'
	CHECK is-target-declaration $'.last /\t \t[one]'
	CHECK is-target-declaration $'.last /\t\t [one]'

TEST-CASE '.last / [requirement]{SPACING}'
	CHECK is-target-declaration $'.last / [one] '
	CHECK is-target-declaration $'.last / [one]\t'
	CHECK is-target-declaration $'.last / [one]  '
	CHECK is-target-declaration $'.last / [one] \t'
	CHECK is-target-declaration $'.last / [one]\t '
	CHECK is-target-declaration $'.last / [one]\t\t'
	CHECK is-target-declaration $'.last / [one]\t  '
	CHECK is-target-declaration $'.last / [one]\t \t'
	CHECK is-target-declaration $'.last / [one]\t\t '

TEST-CASE '.last / [requirement]{SPACING}[requirement]'
	CHECK is-target-declaration $'.last / [one] [two]'
	CHECK is-target-declaration $'.last / [one]\t[two]'
	CHECK is-target-declaration $'.last / [one]  [two]'
	CHECK is-target-declaration $'.last / [one] \t[two]'
	CHECK is-target-declaration $'.last / [one]\t [two]'
	CHECK is-target-declaration $'.last / [one]\t\t[two]'
	CHECK is-target-declaration $'.last / [one]\t  [two]'
	CHECK is-target-declaration $'.last / [one]\t \t[two]'
	CHECK is-target-declaration $'.last / [one]\t\t [two]'

