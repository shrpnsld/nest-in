source $(SAMPLE nest-in)

TEST-CASE 'command'
	CHECK is-target-declaration "some / 'a'"
	CHECK is-target-declaration "some / 'b'"
	CHECK is-target-declaration "some / '1'"
	CHECK is-target-declaration "some / '2'"
	CHECK is-target-declaration "some / 'one'"
	CHECK is-target-declaration "some / 'two'"
	CHECK is-target-declaration "some / 'one-two'"
	CHECK is-target-declaration "some / 'one_two'"
	CHECK is-target-declaration "some / 'one-'"
	CHECK is-target-declaration "some / 'two-'"
	CHECK is-target-declaration "some / 'one_'"
	CHECK is-target-declaration "some / 'two_'"
	CHECK is-target-declaration "some / 'one1'"
	CHECK is-target-declaration "some / 'two2'"
	CHECK is-target-declaration "some / 'one-1'"
	CHECK is-target-declaration "some / 'two-2'"
	CHECK is-target-declaration "some / 'one_1'"
	CHECK is-target-declaration "some / 'two_2'"

TEST-CASE '/absolute/file/path'
	CHECK is-target-declaration "some / '/a'"
	CHECK is-target-declaration "some / '/b'"
	CHECK is-target-declaration "some / '/1'"
	CHECK is-target-declaration "some / '/2'"
	CHECK is-target-declaration "some / '/one'"
	CHECK is-target-declaration "some / '/two'"
	CHECK is-target-declaration "some / '/one-two'"
	CHECK is-target-declaration "some / '/one_two'"
	CHECK is-target-declaration "some / '/one-'"
	CHECK is-target-declaration "some / '/two-'"
	CHECK is-target-declaration "some / '/one_'"
	CHECK is-target-declaration "some / '/two_'"
	CHECK is-target-declaration "some / '/one1'"
	CHECK is-target-declaration "some / '/two2'"
	CHECK is-target-declaration "some / '/one-1'"
	CHECK is-target-declaration "some / '/two-2'"
	CHECK is-target-declaration "some / '/one_1'"
	CHECK is-target-declaration "some / '/two_2'"

	CHECK is-target-declaration "some / '/a/b'"
	CHECK is-target-declaration "some / '/c/d'"
	CHECK is-target-declaration "some / '/1/2'"
	CHECK is-target-declaration "some / '/3/4'"
	CHECK is-target-declaration "some / '/one/two'"
	CHECK is-target-declaration "some / '/three/four'"
	CHECK is-target-declaration "some / '/one-two/three-four'"
	CHECK is-target-declaration "some / '/five-six/seven-eight'"
	CHECK is-target-declaration "some / '/one_two/three_four'"
	CHECK is-target-declaration "some / '/five_six/seven_eight'"
	CHECK is-target-declaration "some / '/one-/two-'"
	CHECK is-target-declaration "some / '/three-/four-'"
	CHECK is-target-declaration "some / '/one_/two_'"
	CHECK is-target-declaration "some / '/three_/four_'"
	CHECK is-target-declaration "some / '/one1/two2'"
	CHECK is-target-declaration "some / '/three3/four4'"
	CHECK is-target-declaration "some / '/one-1/two-2'"
	CHECK is-target-declaration "some / '/three-3/four-4'"
	CHECK is-target-declaration "some / '/one_1/two_2'"
	CHECK is-target-declaration "some / '/three_3/four_4'"

TEST-CASE './relative/file/path'
	CHECK is-target-declaration "some / './a'"
	CHECK is-target-declaration "some / './b'"
	CHECK is-target-declaration "some / './1'"
	CHECK is-target-declaration "some / './2'"
	CHECK is-target-declaration "some / './one'"
	CHECK is-target-declaration "some / './two'"
	CHECK is-target-declaration "some / './one-two'"
	CHECK is-target-declaration "some / './one_two'"
	CHECK is-target-declaration "some / './one-'"
	CHECK is-target-declaration "some / './two-'"
	CHECK is-target-declaration "some / './one_'"
	CHECK is-target-declaration "some / './two_'"
	CHECK is-target-declaration "some / './one1'"
	CHECK is-target-declaration "some / './two2'"
	CHECK is-target-declaration "some / './one-1'"
	CHECK is-target-declaration "some / './two-2'"
	CHECK is-target-declaration "some / './one_1'"
	CHECK is-target-declaration "some / './two_2'"

	CHECK is-target-declaration "some / './a/b'"
	CHECK is-target-declaration "some / './c/d'"
	CHECK is-target-declaration "some / './1/2'"
	CHECK is-target-declaration "some / './3/4'"
	CHECK is-target-declaration "some / './one/two'"
	CHECK is-target-declaration "some / './three/four'"
	CHECK is-target-declaration "some / './one-two/three-four'"
	CHECK is-target-declaration "some / './five-six/seven-eight'"
	CHECK is-target-declaration "some / './one_two/three_four'"
	CHECK is-target-declaration "some / './five_six/seven_eight'"
	CHECK is-target-declaration "some / './one-/two-'"
	CHECK is-target-declaration "some / './three-/four-'"
	CHECK is-target-declaration "some / './one_/two_'"
	CHECK is-target-declaration "some / './three_/four_'"
	CHECK is-target-declaration "some / './one1/two2'"
	CHECK is-target-declaration "some / './three3/four4'"
	CHECK is-target-declaration "some / './one-1/two-2'"
	CHECK is-target-declaration "some / './three-3/four-4'"
	CHECK is-target-declaration "some / './one_1/two_2'"
	CHECK is-target-declaration "some / './three_3/four_4'"

TEST-CASE 'relative/file/path'
	CHECK is-target-declaration "some / 'a/b'"
	CHECK is-target-declaration "some / 'c/d'"
	CHECK is-target-declaration "some / '1/2'"
	CHECK is-target-declaration "some / '3/4'"
	CHECK is-target-declaration "some / 'one/two'"
	CHECK is-target-declaration "some / 'three/four'"
	CHECK is-target-declaration "some / 'one-two/three-four'"
	CHECK is-target-declaration "some / 'five-six/seven-eight'"
	CHECK is-target-declaration "some / 'one_two/three_four'"
	CHECK is-target-declaration "some / 'five_six/seven_eight'"
	CHECK is-target-declaration "some / 'one-/two-'"
	CHECK is-target-declaration "some / 'three-/four-'"
	CHECK is-target-declaration "some / 'one_/two_'"
	CHECK is-target-declaration "some / 'three_/four_'"
	CHECK is-target-declaration "some / 'one1/two2'"
	CHECK is-target-declaration "some / 'three3/four4'"
	CHECK is-target-declaration "some / 'one-1/two-2'"
	CHECK is-target-declaration "some / 'three-3/four-4'"
	CHECK is-target-declaration "some / 'one_1/two_2'"
	CHECK is-target-declaration "some / 'three_3/four_4'"

TEST-CASE '~/home/file/path'
	CHECK is-target-declaration "some / '~/a'"
	CHECK is-target-declaration "some / '~/b'"
	CHECK is-target-declaration "some / '~/1'"
	CHECK is-target-declaration "some / '~/2'"
	CHECK is-target-declaration "some / '~/one'"
	CHECK is-target-declaration "some / '~/two'"
	CHECK is-target-declaration "some / '~/one-two'"
	CHECK is-target-declaration "some / '~/one_two'"
	CHECK is-target-declaration "some / '~/one-'"
	CHECK is-target-declaration "some / '~/two-'"
	CHECK is-target-declaration "some / '~/one_'"
	CHECK is-target-declaration "some / '~/two_'"
	CHECK is-target-declaration "some / '~/one1'"
	CHECK is-target-declaration "some / '~/two2'"
	CHECK is-target-declaration "some / '~/one-1'"
	CHECK is-target-declaration "some / '~/two-2'"
	CHECK is-target-declaration "some / '~/one_1'"
	CHECK is-target-declaration "some / '~/two_2'"

	CHECK is-target-declaration "some / '~/a/b'"
	CHECK is-target-declaration "some / '~/c/d'"
	CHECK is-target-declaration "some / '~/1/2'"
	CHECK is-target-declaration "some / '~/3/4'"
	CHECK is-target-declaration "some / '~/one/two'"
	CHECK is-target-declaration "some / '~/three/four'"
	CHECK is-target-declaration "some / '~/one-two/three-four'"
	CHECK is-target-declaration "some / '~/five-six/seven-eight'"
	CHECK is-target-declaration "some / '~/one_two/three_four'"
	CHECK is-target-declaration "some / '~/five_six/seven_eight'"
	CHECK is-target-declaration "some / '~/one-/two-'"
	CHECK is-target-declaration "some / '~/three-/four-'"
	CHECK is-target-declaration "some / '~/one_/two_'"
	CHECK is-target-declaration "some / '~/three_/four_'"
	CHECK is-target-declaration "some / '~/one1/two2'"
	CHECK is-target-declaration "some / '~/three3/four4'"
	CHECK is-target-declaration "some / '~/one-1/two-2'"
	CHECK is-target-declaration "some / '~/three-3/four-4'"
	CHECK is-target-declaration "some / '~/one_1/two_2'"
	CHECK is-target-declaration "some / '~/three_3/four_4'"

