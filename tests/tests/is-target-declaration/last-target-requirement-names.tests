source $(SAMPLE nest-in)

SECTION 'valid'

TEST-CASE 'no specifier'
	CHECK is-target-declaration '.last / [one]'
	CHECK is-target-declaration '.last / [two]'
	CHECK is-target-declaration '.last / [one-two]'
	CHECK is-target-declaration '.last / [one_two]'
	CHECK is-target-declaration '.last / [one-]'
	CHECK is-target-declaration '.last / [two-]'
	CHECK is-target-declaration '.last / [one_]'
	CHECK is-target-declaration '.last / [two_]'
	CHECK is-target-declaration '.last / [one1]'
	CHECK is-target-declaration '.last / [two2]'
	CHECK is-target-declaration '.last / [one-1]'
	CHECK is-target-declaration '.last / [two-2]'
	CHECK is-target-declaration '.last / [one_1]'
	CHECK is-target-declaration '.last / [two_2]'


SECTION 'invalid'

TEST-CASE 'all characters allowed'
	CHECK ! is-target-declaration '.last / [1]'
	CHECK ! is-target-declaration '.last / [2]'
	CHECK ! is-target-declaration '.last / [-]'
	CHECK ! is-target-declaration '.last / [_]'
	CHECK ! is-target-declaration '.last / [-one]'
	CHECK ! is-target-declaration '.last / [-two]'
	CHECK ! is-target-declaration '.last / [_one]'
	CHECK ! is-target-declaration '.last / [_two]'
	CHECK ! is-target-declaration '.last / [1one]'
	CHECK ! is-target-declaration '.last / [2two]'

TEST-CASE 'first character not allowed'
	CHECK ! is-target-declaration '.last / [.one]'
	CHECK ! is-target-declaration '.last / [.two]'
	CHECK ! is-target-declaration '.last / [!one]'
	CHECK ! is-target-declaration '.last / [!two]'
	CHECK ! is-target-declaration '.last / [@one]'
	CHECK ! is-target-declaration '.last / [@two]'
	CHECK ! is-target-declaration '.last / [#one]'
	CHECK ! is-target-declaration '.last / [#two]'
	CHECK ! is-target-declaration '.last / [$one]'
	CHECK ! is-target-declaration '.last / [$two]'
	CHECK ! is-target-declaration '.last / [%one]'
	CHECK ! is-target-declaration '.last / [%two]'
	CHECK ! is-target-declaration '.last / [^one]'
	CHECK ! is-target-declaration '.last / [^two]'
	CHECK ! is-target-declaration '.last / [&one]'
	CHECK ! is-target-declaration '.last / [&two]'
	CHECK ! is-target-declaration '.last / [*one]'
	CHECK ! is-target-declaration '.last / [*two]'
	CHECK ! is-target-declaration '.last / [(one]'
	CHECK ! is-target-declaration '.last / [(two]'
	CHECK ! is-target-declaration '.last / [)one]'
	CHECK ! is-target-declaration '.last / [)two]'
	CHECK ! is-target-declaration '.last / [[one]'
	CHECK ! is-target-declaration '.last / [[two]'
	CHECK ! is-target-declaration '.last / []one]'
	CHECK ! is-target-declaration '.last / []two]'
	CHECK ! is-target-declaration '.last / [{one]'
	CHECK ! is-target-declaration '.last / [{two]'
	CHECK ! is-target-declaration '.last / [}one]'
	CHECK ! is-target-declaration '.last / [}two]'
	CHECK ! is-target-declaration '.last / [\one]'
	CHECK ! is-target-declaration '.last / [\two]'
	CHECK ! is-target-declaration '.last / [|one]'
	CHECK ! is-target-declaration '.last / [|two]'
	CHECK ! is-target-declaration '.last / [<one]'
	CHECK ! is-target-declaration '.last / [<two]'
	CHECK ! is-target-declaration '.last / [>one]'
	CHECK ! is-target-declaration '.last / [>two]'
	CHECK ! is-target-declaration '.last / [`one]'
	CHECK ! is-target-declaration '.last / [`two]'
	CHECK ! is-target-declaration '.last / [~one]'
	CHECK ! is-target-declaration '.last / [~two]'
	CHECK ! is-target-declaration '.last / [,one]'
	CHECK ! is-target-declaration '.last / [,two]'
	CHECK ! is-target-declaration '.last / [.one]'
	CHECK ! is-target-declaration '.last / [.two]'
	CHECK ! is-target-declaration '.last / [;one]'
	CHECK ! is-target-declaration '.last / [;two]'
	CHECK ! is-target-declaration '.last / [:one]'
	CHECK ! is-target-declaration '.last / [:two]'
	CHECK ! is-target-declaration '.last / [?one]'
	CHECK ! is-target-declaration '.last / [?two]'
	CHECK ! is-target-declaration ".last / ['one]"
	CHECK ! is-target-declaration ".last / ['two]"
	CHECK ! is-target-declaration '.last / ["one]'
	CHECK ! is-target-declaration '.last / ["two]'

TEST-CASE 'middle character not allowed'
	CHECK ! is-target-declaration '.last / [on.e]'
	CHECK ! is-target-declaration '.last / [tw.o]'
	CHECK ! is-target-declaration '.last / [on!e]'
	CHECK ! is-target-declaration '.last / [tw!o]'
	CHECK ! is-target-declaration '.last / [on@e]'
	CHECK ! is-target-declaration '.last / [tw@o]'
	CHECK ! is-target-declaration '.last / [on#e]'
	CHECK ! is-target-declaration '.last / [tw#o]'
	CHECK ! is-target-declaration '.last / [on$e]'
	CHECK ! is-target-declaration '.last / [tw$o]'
	CHECK ! is-target-declaration '.last / [on%e]'
	CHECK ! is-target-declaration '.last / [tw%o]'
	CHECK ! is-target-declaration '.last / [on^e]'
	CHECK ! is-target-declaration '.last / [tw^o]'
	CHECK ! is-target-declaration '.last / [on&e]'
	CHECK ! is-target-declaration '.last / [tw&o]'
	CHECK ! is-target-declaration '.last / [on*e]'
	CHECK ! is-target-declaration '.last / [tw*o]'
	CHECK ! is-target-declaration '.last / [on(e]'
	CHECK ! is-target-declaration '.last / [tw(o]'
	CHECK ! is-target-declaration '.last / [on)e]'
	CHECK ! is-target-declaration '.last / [tw)o]'
	CHECK ! is-target-declaration '.last / [on[e]'
	CHECK ! is-target-declaration '.last / [tw[o]'
	CHECK ! is-target-declaration '.last / [on]e]'
	CHECK ! is-target-declaration '.last / [tw]o]'
	CHECK ! is-target-declaration '.last / [on{e]'
	CHECK ! is-target-declaration '.last / [tw{o]'
	CHECK ! is-target-declaration '.last / [on}e]'
	CHECK ! is-target-declaration '.last / [tw}o]'
	CHECK ! is-target-declaration '.last / [on\e]'
	CHECK ! is-target-declaration '.last / [tw\o]'
	CHECK ! is-target-declaration '.last / [on|e]'
	CHECK ! is-target-declaration '.last / [tw|o]'
	CHECK ! is-target-declaration '.last / [on<e]'
	CHECK ! is-target-declaration '.last / [tw<o]'
	CHECK ! is-target-declaration '.last / [on>e]'
	CHECK ! is-target-declaration '.last / [tw>o]'
	CHECK ! is-target-declaration '.last / [on`e]'
	CHECK ! is-target-declaration '.last / [tw`o]'
	CHECK ! is-target-declaration '.last / [on~e]'
	CHECK ! is-target-declaration '.last / [tw~o]'
	CHECK ! is-target-declaration '.last / [on,e]'
	CHECK ! is-target-declaration '.last / [tw,o]'
	CHECK ! is-target-declaration '.last / [on.e]'
	CHECK ! is-target-declaration '.last / [tw.o]'
	CHECK ! is-target-declaration '.last / [on;e]'
	CHECK ! is-target-declaration '.last / [tw;o]'
	CHECK ! is-target-declaration '.last / [on?e]'
	CHECK ! is-target-declaration '.last / [tw?o]'
	CHECK ! is-target-declaration ".last / [on'e]"
	CHECK ! is-target-declaration ".last / [tw'o]"
	CHECK ! is-target-declaration '.last / [on"e]'
	CHECK ! is-target-declaration '.last / [tw"o]'

TEST-CASE 'last character not allowed'
	CHECK ! is-target-declaration '.last / [one.]'
	CHECK ! is-target-declaration '.last / [two.]'
	CHECK ! is-target-declaration '.last / [one@]'
	CHECK ! is-target-declaration '.last / [two@]'
	CHECK ! is-target-declaration '.last / [one#]'
	CHECK ! is-target-declaration '.last / [two#]'
	CHECK ! is-target-declaration '.last / [one$]'
	CHECK ! is-target-declaration '.last / [two$]'
	CHECK ! is-target-declaration '.last / [one%]'
	CHECK ! is-target-declaration '.last / [two%]'
	CHECK ! is-target-declaration '.last / [one^]'
	CHECK ! is-target-declaration '.last / [two^]'
	CHECK ! is-target-declaration '.last / [one&]'
	CHECK ! is-target-declaration '.last / [two&]'
	CHECK ! is-target-declaration '.last / [one*]'
	CHECK ! is-target-declaration '.last / [two*]'
	CHECK ! is-target-declaration '.last / [one(]'
	CHECK ! is-target-declaration '.last / [two(]'
	CHECK ! is-target-declaration '.last / [one)]'
	CHECK ! is-target-declaration '.last / [two)]'
	CHECK ! is-target-declaration '.last / [one[]'
	CHECK ! is-target-declaration '.last / [two[]'
	CHECK ! is-target-declaration '.last / [one]]'
	CHECK ! is-target-declaration '.last / [two]]'
	CHECK ! is-target-declaration '.last / [one{]'
	CHECK ! is-target-declaration '.last / [two{]'
	CHECK ! is-target-declaration '.last / [one}]'
	CHECK ! is-target-declaration '.last / [two}]'
	CHECK ! is-target-declaration '.last / [one\]'
	CHECK ! is-target-declaration '.last / [two\]'
	CHECK ! is-target-declaration '.last / [one|]'
	CHECK ! is-target-declaration '.last / [two|]'
	CHECK ! is-target-declaration '.last / [one<]'
	CHECK ! is-target-declaration '.last / [two<]'
	CHECK ! is-target-declaration '.last / [one>]'
	CHECK ! is-target-declaration '.last / [two>]'
	CHECK ! is-target-declaration '.last / [one`]'
	CHECK ! is-target-declaration '.last / [two`]'
	CHECK ! is-target-declaration '.last / [one~]'
	CHECK ! is-target-declaration '.last / [two~]'
	CHECK ! is-target-declaration '.last / [one,]'
	CHECK ! is-target-declaration '.last / [two,]'
	CHECK ! is-target-declaration '.last / [one.]'
	CHECK ! is-target-declaration '.last / [two.]'
	CHECK ! is-target-declaration '.last / [one;]'
	CHECK ! is-target-declaration '.last / [two;]'
	CHECK ! is-target-declaration '.last / [one:]'
	CHECK ! is-target-declaration '.last / [two:]'
	CHECK ! is-target-declaration '.last / [one?]'
	CHECK ! is-target-declaration '.last / [two?]'
	CHECK ! is-target-declaration ".last / [one']"
	CHECK ! is-target-declaration ".last / [two']"
	CHECK ! is-target-declaration '.last / [one"]'
	CHECK ! is-target-declaration '.last / [two"]'

