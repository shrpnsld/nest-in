source $(SAMPLE nest-in)

SECTION 'valid'

TEST-CASE 'with one specifier'
	CHECK is-target-declaration 'some / [other:1]'
	CHECK is-target-declaration 'some / [other:2]'
	CHECK is-target-declaration 'some / [other:-]'
	CHECK is-target-declaration 'some / [other:_]'
	CHECK is-target-declaration 'some / [other:one]'
	CHECK is-target-declaration 'some / [other:two]'
	CHECK is-target-declaration 'some / [other:one-two]'
	CHECK is-target-declaration 'some / [other:one_two]'
	CHECK is-target-declaration 'some / [other:-one]'
	CHECK is-target-declaration 'some / [other:-two]'
	CHECK is-target-declaration 'some / [other:one-]'
	CHECK is-target-declaration 'some / [other:two-]'
	CHECK is-target-declaration 'some / [other:_one]'
	CHECK is-target-declaration 'some / [other:_two]'
	CHECK is-target-declaration 'some / [other:one_]'
	CHECK is-target-declaration 'some / [other:two_]'
	CHECK is-target-declaration 'some / [other:1one]'
	CHECK is-target-declaration 'some / [other:2two]'
	CHECK is-target-declaration 'some / [other:one1]'
	CHECK is-target-declaration 'some / [other:two2]'
	CHECK is-target-declaration 'some / [other:1-one]'
	CHECK is-target-declaration 'some / [other:2-two]'
	CHECK is-target-declaration 'some / [other:1_one]'
	CHECK is-target-declaration 'some / [other:2_two]'
	CHECK is-target-declaration 'some / [other:one-1]'
	CHECK is-target-declaration 'some / [other:two-2]'
	CHECK is-target-declaration 'some / [other:one_1]'
	CHECK is-target-declaration 'some / [other:two_2]'

TEST-CASE 'with two specifiers'
	CHECK is-target-declaration 'some / [other:another:1]'
	CHECK is-target-declaration 'some / [other:another:2]'
	CHECK is-target-declaration 'some / [other:another:-]'
	CHECK is-target-declaration 'some / [other:another:_]'
	CHECK is-target-declaration 'some / [other:another:one]'
	CHECK is-target-declaration 'some / [other:another:two]'
	CHECK is-target-declaration 'some / [other:another:one-two]'
	CHECK is-target-declaration 'some / [other:another:one_two]'
	CHECK is-target-declaration 'some / [other:another:1-one]'
	CHECK is-target-declaration 'some / [other:another:2-two]'
	CHECK is-target-declaration 'some / [other:another:1_one]'
	CHECK is-target-declaration 'some / [other:another:2_two]'
	CHECK is-target-declaration 'some / [other:another:one-1]'
	CHECK is-target-declaration 'some / [other:another:two-2]'
	CHECK is-target-declaration 'some / [other:another:one_1]'
	CHECK is-target-declaration 'some / [other:another:two_2]'
	CHECK is-target-declaration 'some / [other:another:-one]'
	CHECK is-target-declaration 'some / [other:another:-two]'
	CHECK is-target-declaration 'some / [other:another:one-]'
	CHECK is-target-declaration 'some / [other:another:two-]'
	CHECK is-target-declaration 'some / [other:another:_one]'
	CHECK is-target-declaration 'some / [other:another:_two]'
	CHECK is-target-declaration 'some / [other:another:one_]'
	CHECK is-target-declaration 'some / [other:another:two_]'
	CHECK is-target-declaration 'some / [other:another:1one]'
	CHECK is-target-declaration 'some / [other:another:2two]'
	CHECK is-target-declaration 'some / [other:another:one1]'
	CHECK is-target-declaration 'some / [other:another:two2]'


SECTION 'invalid'

TEST-CASE 'empty'
	CHECK ! is-target-declaration 'some / [one:]'
	CHECK ! is-target-declaration 'some / [one::]'
	CHECK ! is-target-declaration 'some / [one:::]'
	CHECK ! is-target-declaration 'some / [one:two:]'
	CHECK ! is-target-declaration 'some / [one:two:three:]'
	CHECK ! is-target-declaration 'some / [one::three]'
	CHECK ! is-target-declaration 'some / [one:two::four]'
	CHECK ! is-target-declaration 'some / [one::three:four]'

	CHECK ! is-target-declaration 'some / [five:]'
	CHECK ! is-target-declaration 'some / [five::]'
	CHECK ! is-target-declaration 'some / [five:::]'
	CHECK ! is-target-declaration 'some / [five:six:]'
	CHECK ! is-target-declaration 'some / [five:six:seven:]'
	CHECK ! is-target-declaration 'some / [five::seven]'
	CHECK ! is-target-declaration 'some / [five:six::eight]'
	CHECK ! is-target-declaration 'some / [five::seven:eight]'

TEST-CASE 'first character not allowed'
	CHECK ! is-target-declaration 'some / [other:!one]'
	CHECK ! is-target-declaration 'some / [other:!two]'
	CHECK ! is-target-declaration 'some / [other:@one]'
	CHECK ! is-target-declaration 'some / [other:@two]'
	CHECK ! is-target-declaration 'some / [other:#one]'
	CHECK ! is-target-declaration 'some / [other:#two]'
	CHECK ! is-target-declaration 'some / [other:$one]'
	CHECK ! is-target-declaration 'some / [other:$two]'
	CHECK ! is-target-declaration 'some / [other:%one]'
	CHECK ! is-target-declaration 'some / [other:%two]'
	CHECK ! is-target-declaration 'some / [other:^one]'
	CHECK ! is-target-declaration 'some / [other:^two]'
	CHECK ! is-target-declaration 'some / [other:&one]'
	CHECK ! is-target-declaration 'some / [other:&two]'
	CHECK ! is-target-declaration 'some / [other:*one]'
	CHECK ! is-target-declaration 'some / [other:*two]'
	CHECK ! is-target-declaration 'some / [other:(one]'
	CHECK ! is-target-declaration 'some / [other:(two]'
	CHECK ! is-target-declaration 'some / [other:)one]'
	CHECK ! is-target-declaration 'some / [other:)two]'
	CHECK ! is-target-declaration 'some / [other:[one]'
	CHECK ! is-target-declaration 'some / [other:[two]'
	CHECK ! is-target-declaration 'some / [other:]one]'
	CHECK ! is-target-declaration 'some / [other:]two]'
	CHECK ! is-target-declaration 'some / [other:{one]'
	CHECK ! is-target-declaration 'some / [other:{two]'
	CHECK ! is-target-declaration 'some / [other:}one]'
	CHECK ! is-target-declaration 'some / [other:}two]'
	CHECK ! is-target-declaration 'some / [other:\one]'
	CHECK ! is-target-declaration 'some / [other:\two]'
	CHECK ! is-target-declaration 'some / [other:|one]'
	CHECK ! is-target-declaration 'some / [other:|two]'
	CHECK ! is-target-declaration 'some / [other:<one]'
	CHECK ! is-target-declaration 'some / [other:<two]'
	CHECK ! is-target-declaration 'some / [other:>one]'
	CHECK ! is-target-declaration 'some / [other:>two]'
	CHECK ! is-target-declaration 'some / [other:`one]'
	CHECK ! is-target-declaration 'some / [other:`two]'
	CHECK ! is-target-declaration 'some / [other:~one]'
	CHECK ! is-target-declaration 'some / [other:~two]'
	CHECK ! is-target-declaration 'some / [other:,one]'
	CHECK ! is-target-declaration 'some / [other:,two]'
	CHECK ! is-target-declaration 'some / [other:;one]'
	CHECK ! is-target-declaration 'some / [other:;two]'
	CHECK ! is-target-declaration 'some / [other:?one]'
	CHECK ! is-target-declaration 'some / [other:?two]'
	CHECK ! is-target-declaration "some / [other:'one]"
	CHECK ! is-target-declaration "some / [other:'two]"
	CHECK ! is-target-declaration 'some / [other:"one]'
	CHECK ! is-target-declaration 'some / [other:"two]'

TEST-CASE 'middle character not allowed'
	CHECK ! is-target-declaration 'some / [other:on!e]'
	CHECK ! is-target-declaration 'some / [other:tw!o]'
	CHECK ! is-target-declaration 'some / [other:on@e]'
	CHECK ! is-target-declaration 'some / [other:tw@o]'
	CHECK ! is-target-declaration 'some / [other:on#e]'
	CHECK ! is-target-declaration 'some / [other:tw#o]'
	CHECK ! is-target-declaration 'some / [other:on$e]'
	CHECK ! is-target-declaration 'some / [other:tw$o]'
	CHECK ! is-target-declaration 'some / [other:on%e]'
	CHECK ! is-target-declaration 'some / [other:tw%o]'
	CHECK ! is-target-declaration 'some / [other:on^e]'
	CHECK ! is-target-declaration 'some / [other:tw^o]'
	CHECK ! is-target-declaration 'some / [other:on&e]'
	CHECK ! is-target-declaration 'some / [other:tw&o]'
	CHECK ! is-target-declaration 'some / [other:on*e]'
	CHECK ! is-target-declaration 'some / [other:tw*o]'
	CHECK ! is-target-declaration 'some / [other:on(e]'
	CHECK ! is-target-declaration 'some / [other:tw(o]'
	CHECK ! is-target-declaration 'some / [other:on)e]'
	CHECK ! is-target-declaration 'some / [other:tw)o]'
	CHECK ! is-target-declaration 'some / [other:on[e]'
	CHECK ! is-target-declaration 'some / [other:tw[o]'
	CHECK ! is-target-declaration 'some / [other:on]e]'
	CHECK ! is-target-declaration 'some / [other:tw]o]'
	CHECK ! is-target-declaration 'some / [other:on{e]'
	CHECK ! is-target-declaration 'some / [other:tw{o]'
	CHECK ! is-target-declaration 'some / [other:on}e]'
	CHECK ! is-target-declaration 'some / [other:tw}o]'
	CHECK ! is-target-declaration 'some / [other:on\e]'
	CHECK ! is-target-declaration 'some / [other:tw\o]'
	CHECK ! is-target-declaration 'some / [other:on|e]'
	CHECK ! is-target-declaration 'some / [other:tw|o]'
	CHECK ! is-target-declaration 'some / [other:on<e]'
	CHECK ! is-target-declaration 'some / [other:tw<o]'
	CHECK ! is-target-declaration 'some / [other:on>e]'
	CHECK ! is-target-declaration 'some / [other:tw>o]'
	CHECK ! is-target-declaration 'some / [other:on`e]'
	CHECK ! is-target-declaration 'some / [other:tw`o]'
	CHECK ! is-target-declaration 'some / [other:on~e]'
	CHECK ! is-target-declaration 'some / [other:tw~o]'
	CHECK ! is-target-declaration 'some / [other:on,e]'
	CHECK ! is-target-declaration 'some / [other:tw,o]'
	CHECK ! is-target-declaration 'some / [other:on;e]'
	CHECK ! is-target-declaration 'some / [other:tw;o]'
	CHECK ! is-target-declaration 'some / [other:on?e]'
	CHECK ! is-target-declaration 'some / [other:tw?o]'
	CHECK ! is-target-declaration "some / [other:on'e]"
	CHECK ! is-target-declaration "some / [other:tw'o]"
	CHECK ! is-target-declaration 'some / [other:on"e]'
	CHECK ! is-target-declaration 'some / [other:tw"o]'

TEST-CASE 'last character not allowed'
	CHECK ! is-target-declaration 'some / [other:one!]'
	CHECK ! is-target-declaration 'some / [other:two!]'
	CHECK ! is-target-declaration 'some / [other:one@]'
	CHECK ! is-target-declaration 'some / [other:two@]'
	CHECK ! is-target-declaration 'some / [other:one#]'
	CHECK ! is-target-declaration 'some / [other:two#]'
	CHECK ! is-target-declaration 'some / [other:one$]'
	CHECK ! is-target-declaration 'some / [other:two$]'
	CHECK ! is-target-declaration 'some / [other:one%]'
	CHECK ! is-target-declaration 'some / [other:two%]'
	CHECK ! is-target-declaration 'some / [other:one^]'
	CHECK ! is-target-declaration 'some / [other:two^]'
	CHECK ! is-target-declaration 'some / [other:one&]'
	CHECK ! is-target-declaration 'some / [other:two&]'
	CHECK ! is-target-declaration 'some / [other:one*]'
	CHECK ! is-target-declaration 'some / [other:two*]'
	CHECK ! is-target-declaration 'some / [other:one(]'
	CHECK ! is-target-declaration 'some / [other:two(]'
	CHECK ! is-target-declaration 'some / [other:one)]'
	CHECK ! is-target-declaration 'some / [other:two)]'
	CHECK ! is-target-declaration 'some / [other:one[]'
	CHECK ! is-target-declaration 'some / [other:two[]'
	CHECK ! is-target-declaration 'some / [other:one]]'
	CHECK ! is-target-declaration 'some / [other:two]]'
	CHECK ! is-target-declaration 'some / [other:one{]'
	CHECK ! is-target-declaration 'some / [other:two{]'
	CHECK ! is-target-declaration 'some / [other:one}]'
	CHECK ! is-target-declaration 'some / [other:two}]'
	CHECK ! is-target-declaration 'some / [other:one\]'
	CHECK ! is-target-declaration 'some / [other:two\]'
	CHECK ! is-target-declaration 'some / [other:one|]'
	CHECK ! is-target-declaration 'some / [other:two|]'
	CHECK ! is-target-declaration 'some / [other:one<]'
	CHECK ! is-target-declaration 'some / [other:two<]'
	CHECK ! is-target-declaration 'some / [other:one>]'
	CHECK ! is-target-declaration 'some / [other:two>]'
	CHECK ! is-target-declaration 'some / [other:one`]'
	CHECK ! is-target-declaration 'some / [other:two`]'
	CHECK ! is-target-declaration 'some / [other:one~]'
	CHECK ! is-target-declaration 'some / [other:two~]'
	CHECK ! is-target-declaration 'some / [other:one,]'
	CHECK ! is-target-declaration 'some / [other:two,]'
	CHECK ! is-target-declaration 'some / [other:one;]'
	CHECK ! is-target-declaration 'some / [other:two;]'
	CHECK ! is-target-declaration 'some / [other:one?]'
	CHECK ! is-target-declaration 'some / [other:two?]'
	CHECK ! is-target-declaration "some / [other:one']"
	CHECK ! is-target-declaration "some / [other:two']"
	CHECK ! is-target-declaration 'some / [other:one"]'
	CHECK ! is-target-declaration 'some / [other:two"]'

