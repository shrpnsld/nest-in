source $(SAMPLE nest-in)

SECTION 'valid'

TEST-CASE 'regular'
	CHECK is-target-declaration 'a'
	CHECK is-target-declaration 'b'
	CHECK is-target-declaration 'one'
	CHECK is-target-declaration 'two'
	CHECK is-target-declaration 'one-two'
	CHECK is-target-declaration 'one_two'
	CHECK is-target-declaration 'one-'
	CHECK is-target-declaration 'two-'
	CHECK is-target-declaration 'one_'
	CHECK is-target-declaration 'two_'
	CHECK is-target-declaration 'one1'
	CHECK is-target-declaration 'two2'
	CHECK is-target-declaration 'one-1'
	CHECK is-target-declaration 'two-2'
	CHECK is-target-declaration 'one_1'
	CHECK is-target-declaration 'two_2'

TEST-CASE 'special'
	CHECK is-target-declaration '.first'
	CHECK is-target-declaration '.last'
	CHECK is-target-declaration '.reqs'
	CHECK is-target-declaration 'one!'
	CHECK is-target-declaration 'two!'

SECTION 'invalid'

TEST-CASE 'all characters allowed'
	CHECK ! is-target-declaration '1'
	CHECK ! is-target-declaration '2'
	CHECK ! is-target-declaration '-'
	CHECK ! is-target-declaration '_'
	CHECK ! is-target-declaration '.'
	CHECK ! is-target-declaration '1one'
	CHECK ! is-target-declaration '2two'
	CHECK ! is-target-declaration '-one'
	CHECK ! is-target-declaration '-two'
	CHECK ! is-target-declaration '_one'
	CHECK ! is-target-declaration '_two'
	CHECK ! is-target-declaration '.one'
	CHECK ! is-target-declaration '.two'
	CHECK ! is-target-declaration '!one'
	CHECK ! is-target-declaration '!two'

TEST-CASE 'first character not allowed'
	CHECK ! is-target-declaration '@one'
	CHECK ! is-target-declaration '@two'
	CHECK ! is-target-declaration '#one'
	CHECK ! is-target-declaration '#two'
	CHECK ! is-target-declaration '$one'
	CHECK ! is-target-declaration '$two'
	CHECK ! is-target-declaration '%one'
	CHECK ! is-target-declaration '%two'
	CHECK ! is-target-declaration '^one'
	CHECK ! is-target-declaration '^two'
	CHECK ! is-target-declaration '&one'
	CHECK ! is-target-declaration '&two'
	CHECK ! is-target-declaration '*one'
	CHECK ! is-target-declaration '*two'
	CHECK ! is-target-declaration '(one'
	CHECK ! is-target-declaration '(two'
	CHECK ! is-target-declaration ')one'
	CHECK ! is-target-declaration ')two'
	CHECK ! is-target-declaration '[one'
	CHECK ! is-target-declaration '[two'
	CHECK ! is-target-declaration ']one'
	CHECK ! is-target-declaration ']two'
	CHECK ! is-target-declaration '{one'
	CHECK ! is-target-declaration '{two'
	CHECK ! is-target-declaration '}one'
	CHECK ! is-target-declaration '}two'
	CHECK ! is-target-declaration '\one'
	CHECK ! is-target-declaration '\two'
	CHECK ! is-target-declaration '|one'
	CHECK ! is-target-declaration '|two'
	CHECK ! is-target-declaration '<one'
	CHECK ! is-target-declaration '<two'
	CHECK ! is-target-declaration '>one'
	CHECK ! is-target-declaration '>two'
	CHECK ! is-target-declaration '`one'
	CHECK ! is-target-declaration '`two'
	CHECK ! is-target-declaration '~one'
	CHECK ! is-target-declaration '~two'
	CHECK ! is-target-declaration ',one'
	CHECK ! is-target-declaration ',two'
	CHECK ! is-target-declaration '.one'
	CHECK ! is-target-declaration '.two'
	CHECK ! is-target-declaration ';one'
	CHECK ! is-target-declaration ';two'
	CHECK ! is-target-declaration ':one'
	CHECK ! is-target-declaration ':two'
	CHECK ! is-target-declaration '?one'
	CHECK ! is-target-declaration '?two'
	CHECK ! is-target-declaration "'one"
	CHECK ! is-target-declaration "'two"
	CHECK ! is-target-declaration '"one'
	CHECK ! is-target-declaration '"two'

TEST-CASE 'middle character not allowed'
	CHECK ! is-target-declaration 'on@e'
	CHECK ! is-target-declaration 'tw@o'
	CHECK ! is-target-declaration 'on#e'
	CHECK ! is-target-declaration 'tw#o'
	CHECK ! is-target-declaration 'on$e'
	CHECK ! is-target-declaration 'tw$o'
	CHECK ! is-target-declaration 'on%e'
	CHECK ! is-target-declaration 'tw%o'
	CHECK ! is-target-declaration 'on^e'
	CHECK ! is-target-declaration 'tw^o'
	CHECK ! is-target-declaration 'on&e'
	CHECK ! is-target-declaration 'tw&o'
	CHECK ! is-target-declaration 'on*e'
	CHECK ! is-target-declaration 'tw*o'
	CHECK ! is-target-declaration 'on(e'
	CHECK ! is-target-declaration 'tw(o'
	CHECK ! is-target-declaration 'on)e'
	CHECK ! is-target-declaration 'tw)o'
	CHECK ! is-target-declaration 'on[e'
	CHECK ! is-target-declaration 'tw[o'
	CHECK ! is-target-declaration 'on]e'
	CHECK ! is-target-declaration 'tw]o'
	CHECK ! is-target-declaration 'on{e'
	CHECK ! is-target-declaration 'tw{o'
	CHECK ! is-target-declaration 'on}e'
	CHECK ! is-target-declaration 'tw}o'
	CHECK ! is-target-declaration 'on\e'
	CHECK ! is-target-declaration 'tw\o'
	CHECK ! is-target-declaration 'on|e'
	CHECK ! is-target-declaration 'tw|o'
	CHECK ! is-target-declaration 'on<e'
	CHECK ! is-target-declaration 'tw<o'
	CHECK ! is-target-declaration 'on>e'
	CHECK ! is-target-declaration 'tw>o'
	CHECK ! is-target-declaration 'on`e'
	CHECK ! is-target-declaration 'tw`o'
	CHECK ! is-target-declaration 'on~e'
	CHECK ! is-target-declaration 'tw~o'
	CHECK ! is-target-declaration 'on,e'
	CHECK ! is-target-declaration 'tw,o'
	CHECK ! is-target-declaration 'on.e'
	CHECK ! is-target-declaration 'tw.o'
	CHECK ! is-target-declaration 'on;e'
	CHECK ! is-target-declaration 'tw;o'
	CHECK ! is-target-declaration 'on:e'
	CHECK ! is-target-declaration 'tw:o'
	CHECK ! is-target-declaration 'on?e'
	CHECK ! is-target-declaration 'tw?o'
	CHECK ! is-target-declaration "on'e"
	CHECK ! is-target-declaration "tw'o"
	CHECK ! is-target-declaration 'on"e'
	CHECK ! is-target-declaration 'tw"o'

TEST-CASE 'last character not allowed'
	CHECK ! is-target-declaration 'one@'
	CHECK ! is-target-declaration 'two@'
	CHECK ! is-target-declaration 'one#'
	CHECK ! is-target-declaration 'two#'
	CHECK ! is-target-declaration 'one$'
	CHECK ! is-target-declaration 'two$'
	CHECK ! is-target-declaration 'one%'
	CHECK ! is-target-declaration 'two%'
	CHECK ! is-target-declaration 'one^'
	CHECK ! is-target-declaration 'two^'
	CHECK ! is-target-declaration 'one&'
	CHECK ! is-target-declaration 'two&'
	CHECK ! is-target-declaration 'one*'
	CHECK ! is-target-declaration 'two*'
	CHECK ! is-target-declaration 'one('
	CHECK ! is-target-declaration 'two('
	CHECK ! is-target-declaration 'one)'
	CHECK ! is-target-declaration 'two)'
	CHECK ! is-target-declaration 'one['
	CHECK ! is-target-declaration 'two['
	CHECK ! is-target-declaration 'one]'
	CHECK ! is-target-declaration 'two]'
	CHECK ! is-target-declaration 'one{'
	CHECK ! is-target-declaration 'two{'
	CHECK ! is-target-declaration 'one}'
	CHECK ! is-target-declaration 'two}'
	CHECK ! is-target-declaration 'one\'
	CHECK ! is-target-declaration 'two\'
	CHECK ! is-target-declaration 'one|'
	CHECK ! is-target-declaration 'two|'
	CHECK ! is-target-declaration 'one<'
	CHECK ! is-target-declaration 'two<'
	CHECK ! is-target-declaration 'one>'
	CHECK ! is-target-declaration 'two>'
	CHECK ! is-target-declaration 'one`'
	CHECK ! is-target-declaration 'two`'
	CHECK ! is-target-declaration 'one~'
	CHECK ! is-target-declaration 'two~'
	CHECK ! is-target-declaration 'one,'
	CHECK ! is-target-declaration 'two,'
	CHECK ! is-target-declaration 'one.'
	CHECK ! is-target-declaration 'two.'
	CHECK ! is-target-declaration 'one;'
	CHECK ! is-target-declaration 'two;'
	CHECK ! is-target-declaration 'one:'
	CHECK ! is-target-declaration 'two:'
	CHECK ! is-target-declaration 'one?'
	CHECK ! is-target-declaration 'two?'
	CHECK ! is-target-declaration "one'"
	CHECK ! is-target-declaration "two'"
	CHECK ! is-target-declaration 'one"'
	CHECK ! is-target-declaration 'two"'

