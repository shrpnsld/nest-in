source $(SAMPLE nest-in)

SETUP() {
	unset DB__DEPENDENCIES_one
	unset DB__DEPENDENCIES_two
	unset DB__DEPENDENCIES_a
	unset DB__DEPENDENCIES_b
	unset DB__DEPENDENCIES_c
	unset DB__DEPENDENCIES_d
	unset DB__DEPENDENCIES_e
	unset DB__DEPENDENCIES_f
	unset DB__DEPENDENCIES_g
	unset DB__DEPENDENCIES_h
	unset DB__DEPENDENCIES_i
}

TEST-CASE 'empty'
	VARIANT 'set 1'
		unset DB__DEPENDENCIES_one
		target-dependencies-recursive 'one'
		CHECK [ ${#TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[@]} == 0 ]

	VARIANT 'set 2'
		unset DB__DEPENDENCIES_two
		target-dependencies-recursive 'two'
		CHECK [ ${#TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[@]} == 0 ]


SECTION 'flat'

TEST-CASE '1 dependency'
	#   r
	#  /
	# a

	VARIANT 'set 1'
		DB__DEPENDENCIES_one=('a')

		target-dependencies-recursive 'one'

		CHECK [ ${#TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[@]} == 1 ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[0]}" == 'a' ]

	VARIANT 'set 2'
		DB__DEPENDENCIES_two=('b')

		target-dependencies-recursive 'two'

		CHECK [ ${#TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[@]} == 1 ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[0]}" == 'b' ]

TEST-CASE '2 dependencies'
	#   r
	#  / \
	# a   b

	VARIANT 'set 1'
		DB__DEPENDENCIES_one=('a b')

		target-dependencies-recursive 'one'

		CHECK [ ${#TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[@]} == 2 ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[0]}" == 'a' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[1]}" == 'b' ]

	VARIANT 'set 2'
		DB__DEPENDENCIES_two=('c d')

		target-dependencies-recursive 'two'

		CHECK [ ${#TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[@]} == 2 ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[0]}" == 'c' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[1]}" == 'd' ]

TEST-CASE '3 dependencies'
	#   r
	#  /|\
	# a b c

	VARIANT 'set 1'
		DB__DEPENDENCIES_one=('a b c')

		target-dependencies-recursive 'one'

		CHECK [ ${#TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[@]} == 3 ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[0]}" == 'a' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[1]}" == 'b' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[2]}" == 'c' ]

	VARIANT 'set 2'
		DB__DEPENDENCIES_two=('c d e')

		target-dependencies-recursive 'two'

		CHECK [ ${#TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[@]} == 3 ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[0]}" == 'c' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[1]}" == 'd' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[2]}" == 'e' ]

SECTION 'deep'

TEST-CASE
	#     r
	#    /
	#   a
	#  /
	# b

	VARIANT 'set 1'
		DB__DEPENDENCIES_one=('a')
		DB__DEPENDENCIES_a=('b')

		target-dependencies-recursive 'one'

		CHECK [ ${#TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[@]} == 2 ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[0]}" == 'a' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[1]}" == 'b' ]

	VARIANT 'set 2'
		DB__DEPENDENCIES_two=('c')
		DB__DEPENDENCIES_c=('d')

		target-dependencies-recursive 'two'

		CHECK [ ${#TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[@]} == 2 ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[0]}" == 'c' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[1]}" == 'd' ]

TEST-CASE
	#     r
	#    / \
	#   a   c
	#  /
	# b

	VARIANT 'set 1'
		DB__DEPENDENCIES_one=('a c')
		DB__DEPENDENCIES_a=('b')

		target-dependencies-recursive 'one'

		CHECK [ ${#TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[@]} == 3 ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[0]}" == 'a' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[1]}" == 'b' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[2]}" == 'c' ]

	VARIANT 'set 2'
		DB__DEPENDENCIES_two=('d e')
		DB__DEPENDENCIES_d=('f')

		target-dependencies-recursive 'two'

		CHECK [ ${#TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[@]} == 3 ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[0]}" == 'd' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[1]}" == 'e' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[2]}" == 'f' ]

TEST-CASE
	#     r
	#    / \
	#   a   b
	#      /
	#     c

	VARIANT 'set 1'
		DB__DEPENDENCIES_one=('a b')
		DB__DEPENDENCIES_b=('c')

		target-dependencies-recursive 'one'

		CHECK [ ${#TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[@]} == 3 ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[0]}" == 'a' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[1]}" == 'b' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[2]}" == 'c' ]

	VARIANT 'set 2'
		DB__DEPENDENCIES_two=('d e')
		DB__DEPENDENCIES_e=('f')

		target-dependencies-recursive 'two'

		CHECK [ ${#TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[@]} == 3 ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[0]}" == 'd' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[1]}" == 'e' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[2]}" == 'f' ]

TEST-CASE
	#     r
	#    / \
	#   a   b
	#  / \
	# c   d

	VARIANT 'set 1'
		DB__DEPENDENCIES_one=('a b')
		DB__DEPENDENCIES_a=('c d')

		target-dependencies-recursive 'one'

		CHECK [ ${#TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[@]} == 4 ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[0]}" == 'a' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[1]}" == 'b' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[2]}" == 'c' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[3]}" == 'd' ]

	VARIANT 'set 2'
		DB__DEPENDENCIES_two=('d e')
		DB__DEPENDENCIES_d=('f g')

		target-dependencies-recursive 'two'

		CHECK [ ${#TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[@]} == 4 ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[0]}" == 'd' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[1]}" == 'e' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[2]}" == 'f' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[3]}" == 'g' ]

TEST-CASE
	#     r
	#    / \
	#   a   b
	#      / \
	#     c   d

	VARIANT 'set 1'
		DB__DEPENDENCIES_one=('a b')
		DB__DEPENDENCIES_b=('c d')

		target-dependencies-recursive 'one'

		CHECK [ ${#TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[@]} == 4 ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[0]}" == 'a' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[1]}" == 'b' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[2]}" == 'c' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[3]}" == 'd' ]

	VARIANT 'set 2'
		DB__DEPENDENCIES_two=('d e')
		DB__DEPENDENCIES_e=('f g')

		target-dependencies-recursive 'two'

		CHECK [ ${#TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[@]} == 4 ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[0]}" == 'd' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[1]}" == 'e' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[2]}" == 'f' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[3]}" == 'g' ]

TEST-CASE
	#      r
	#    /   \
	#   a     b
	#  / \   /
	# c   d e

	VARIANT 'set 1'
		DB__DEPENDENCIES_one=('a b')
		DB__DEPENDENCIES_a=('c d')
		DB__DEPENDENCIES_b=('e')

		target-dependencies-recursive 'one'

		CHECK [ ${#TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[@]} == 5 ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[0]}" == 'a' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[1]}" == 'b' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[2]}" == 'c' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[3]}" == 'd' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[4]}" == 'e' ]

	VARIANT 'set 2'
		DB__DEPENDENCIES_two=('d e')
		DB__DEPENDENCIES_d=('f g')
		DB__DEPENDENCIES_e=('h')

		target-dependencies-recursive 'two'

		CHECK [ ${#TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[@]} == 5 ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[0]}" == 'd' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[1]}" == 'e' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[2]}" == 'f' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[3]}" == 'g' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[4]}" == 'h' ]

TEST-CASE
	#      r
	#    /   \
	#   a     b
	#  /     / \
	# c     d   e

	VARIANT 'set 1'
		DB__DEPENDENCIES_one=('a b')
		DB__DEPENDENCIES_a=('c')
		DB__DEPENDENCIES_b=('d e')

		target-dependencies-recursive 'one'

		CHECK [ ${#TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[@]} == 5 ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[0]}" == 'a' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[1]}" == 'b' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[2]}" == 'c' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[3]}" == 'd' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[4]}" == 'e' ]

	VARIANT 'set 2'
		DB__DEPENDENCIES_two=('d e')
		DB__DEPENDENCIES_d=('f')
		DB__DEPENDENCIES_e=('g h')

		target-dependencies-recursive 'two'

		CHECK [ ${#TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[@]} == 5 ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[0]}" == 'd' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[1]}" == 'e' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[2]}" == 'f' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[3]}" == 'g' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[4]}" == 'h' ]

TEST-CASE
	#      r
	#    /   \
	#   a     b
	#  / \   / \
	# c   d e   f

	VARIANT 'set 1'
		DB__DEPENDENCIES_one=('a b')
		DB__DEPENDENCIES_a=('c d')
		DB__DEPENDENCIES_b=('e f')

		target-dependencies-recursive 'one'

		CHECK [ ${#TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[@]} == 6 ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[0]}" == 'a' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[1]}" == 'b' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[2]}" == 'c' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[3]}" == 'd' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[4]}" == 'e' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[5]}" == 'f' ]

	VARIANT 'set 2'
		DB__DEPENDENCIES_two=('d e')
		DB__DEPENDENCIES_d=('f g')
		DB__DEPENDENCIES_e=('h i')

		target-dependencies-recursive 'two'

		CHECK [ ${#TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[@]} == 6 ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[0]}" == 'd' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[1]}" == 'e' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[2]}" == 'f' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[3]}" == 'g' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[4]}" == 'h' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[5]}" == 'i' ]


SECTION 'deep and repeating'

TEST-CASE
	#     r
	#    / \
	#   a   b
	#  /
	# b

	VARIANT 'set 1'
		DB__DEPENDENCIES_one=('a b')
		DB__DEPENDENCIES_a=('b')

		target-dependencies-recursive 'one'

		CHECK [ ${#TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[@]} == 2 ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[0]}" == 'a' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[1]}" == 'b' ]

	VARIANT 'set 2'
		DB__DEPENDENCIES_two=('c d')
		DB__DEPENDENCIES_c=('d')

		target-dependencies-recursive 'two'

		CHECK [ ${#TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[@]} == 2 ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[0]}" == 'c' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[1]}" == 'd' ]

TEST-CASE
	#     r
	#    / \
	#   a   b
	#      /
	#     a

	VARIANT 'set 1'
		DB__DEPENDENCIES_one=('a b')
		DB__DEPENDENCIES_b=('a')

		target-dependencies-recursive 'one'

		CHECK [ ${#TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[@]} == 2 ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[0]}" == 'a' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[1]}" == 'b' ]

	VARIANT 'set 2'
		DB__DEPENDENCIES_two=('c d')
		DB__DEPENDENCIES_d=('c')

		target-dependencies-recursive 'two'

		CHECK [ ${#TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[@]} == 2 ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[0]}" == 'c' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[1]}" == 'd' ]

TEST-CASE
	#     r
	#    / \
	#   a   b
	#  /   /
	# c   c

	VARIANT 'set 1'
		DB__DEPENDENCIES_one=('a b')
		DB__DEPENDENCIES_a=('c')
		DB__DEPENDENCIES_b=('c')

		target-dependencies-recursive 'one'

		CHECK [ ${#TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[@]} == 3 ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[0]}" == 'a' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[1]}" == 'b' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[2]}" == 'c' ]

	VARIANT 'set 2'
		DB__DEPENDENCIES_two=('c d')
		DB__DEPENDENCIES_c=('e')
		DB__DEPENDENCIES_d=('e')

		target-dependencies-recursive 'two'

		CHECK [ ${#TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[@]} == 3 ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[0]}" == 'c' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[1]}" == 'd' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[2]}" == 'e' ]

TEST-CASE
	#      r
	#    /   \
	#   a     b
	#  / \   / \
	# c   d c   d

	VARIANT 'set 1'
		DB__DEPENDENCIES_one=('a b')
		DB__DEPENDENCIES_a=('c d')
		DB__DEPENDENCIES_b=('c d')

		target-dependencies-recursive 'one'

		CHECK [ ${#TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[@]} == 4 ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[0]}" == 'a' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[1]}" == 'b' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[2]}" == 'c' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[3]}" == 'd' ]

	VARIANT 'set 2'
		DB__DEPENDENCIES_two=('c d')
		DB__DEPENDENCIES_c=('e f')
		DB__DEPENDENCIES_d=('e f')

		target-dependencies-recursive 'two'

		CHECK [ ${#TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[@]} == 4 ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[0]}" == 'c' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[1]}" == 'd' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[2]}" == 'e' ]
		CHECK [ "${TARGET_DEPENDENCIES_RECURSIVE_RETURN__DEPENDENCIES[3]}" == 'f' ]

